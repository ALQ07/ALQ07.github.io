---
layout:     post
title:      "向量叉积在游戏开发中的应用"
subtitle:   " "
date:       2025-12-17 12:00:00
author:     "ALQ"
header-img: "img/post-bg-2015.jpg"
catalog: true
mathjax: true
tags:
    - 游戏开发
---
## 叉积的多层含义
1. $ a \times b = \vert a \vert \cdot \vert b \vert \cdot sin(θ) $
2. a 为(x1,y1), b 为(x2,y2),则叉积结果为：$x1 \times y2 - y1 \times x2$
3. $a \times b = a在b的法线上的投影 \cdot \vert b \vert$
    - 当向量 b 取单位向量的时候，叉积的结果就是向量 a 在向量 b的法线 上的投影长度

## 向量叉积的应用
### 判断“左”还是“右” (最常用)
这是在 Gameplay 逻辑（如技能判定、AI 寻路）中最常用的功能。

虽然点乘可以告诉你目标在“前”还是“后”，但它无法区分左右。叉乘可以做到这一点。
其次，我们讨论叉乘得从2D和3D两个方面来看：
#### 2D 叉积
在2D空间中，向量的叉积结果是一个标量，它表示向量 a 到向量 b 的旋转方向。
- 如果结果为正，那么向量 a 是向量 b 的顺时针方向。(b在a的左侧)
- 如果结果为负，那么向量 a 是向量 b 的逆时针方向。(b在a的右侧)
- 如果结果为0，那么向量 a 和向量 b 是平行的。
#### 3D 叉积
在3D空间中，向量的叉积结果是一个向量，它垂直于向量 a 和向量 b 所在的平面,由于不同游戏引擎所使用的坐标系不同，所以叉积的结果有所不同，这里以cocos和unity为例：
- **cocos 引擎**：
    - 使用右手坐标系，z轴指向屏幕外。
    - 叉积结果>0,根据右手定则，向量b由向量a逆时针旋转所得，b在a左侧
    - 叉积结果<0,根据右手定则，向量b由向量a顺时针旋转所得，b在a右侧
- **unity 引擎**：
    - 使用左手坐标系，z轴指向屏幕内。
    - 叉积结果>0,根据左手定则，向量b由向量a逆时针旋转所得，b在a左侧
    - 叉积结果<0,根据左手定则，向量b由向量a顺时针旋转所得，b在a右侧





